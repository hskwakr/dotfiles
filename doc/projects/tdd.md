# BATS を使った TDD の進め方

このドキュメントでは、シェルスクリプトを改良する際に、まず失敗する BATS テストを書き、
それを通す形でスクリプトを更新する手順を説明します。

## 手順

1. 期待する振る舞いを `test/` に BATS で記述します。テストはまだ未実装なので失敗します。
2. `test/run_tests.sh <テストファイル>` を実行し、失敗することを確認します。
3. スクリプトを修正し、テストが成功する状態にします。
4. もう一度テストを実行し、すべてが通ることを確認します。
5. 新しい機能や修正ごとにこのサイクルを繰り返すことで、
   安定したスクリプトを小さなステップで構築できます。

BATS のテストケースは `@test` ブロックで定義し、`run` やアサーションを用いて
期待する出力や終了ステータスを確認します。失敗を先に確認してから実装することで、
意図しない挙動の変化を検出しやすくなります。
